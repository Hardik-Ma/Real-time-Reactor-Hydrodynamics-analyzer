# Experimental Data analysis for understanding the Hydrodynamics of the Coiled Flow Inverter Reactor

This file uses the csv data generated by the experiments to understand the hydrodynamics of the CFI Reactor using Calculating and analyzing the Mean Residence time, Variance, Dispersion Number, Disperssion coeffecient, peclet Number and skewness of the RTD Curve.

## Purpose
Processes experimental tracer data (Resazurin dye) to calculate:
- Residence Time Distribution (RTD) curves
- Mean residence time (`τ`) and variance (`σ²`)
- Dispersion Coeffecient (`D`) and Peclet Number (`Pe`)
- Deans/Reynolds number for flow characterization

## Installation

### Prerequisites
- Python 3.x
- Jupyter Notebook

### Dependencies
- Python 3.x
- Required libraries:
  - NumPy
  - Pandas
  - Matplotlib
  - SciPy

## Key Features

### Data Cleaning
- Nan removal/interpolation
- Signal Smoothening (Savitzky-Golay filter)
- Baseline correction

### RTD Analysis
- Normalize `E(t)` curve generation
- Statistical metrics (skewness, variance)
- Peak detection and stabilization time

### Flow Characterization
- Axial Dispersion Coeffecient (`D`)
- Dean (`De`), Reynolds (`Re`) and Peclet (`Pe`) numbers
- Superficial velocity calculations

## Usage

### Input Data Format
Requires a csv with columns:
- `Time (S)`
- `Luma Value` (raw or inverted)

Example
```csv
Time (S), Luma Value
0.0, 142.3
0.33, 145.7
...
```

### Run Analysis
```python
# Load data
data = pd.read_csv('your_data.csv')
time = data['Time (s)']
luma = data['Luma Value']

# Process and plot RTD
E_t, tau, variance = E_T_curve(luma, time)
D, dispersion_number, Pe = reactor_dispersion(variance, tau, L, IR, RPM)
```

### Key Outputs
| Metric | Function Used | Example Output |
|--------|---------------|----------------|
| Mean Residence Time | `analyzed_rtd()` | `τ = 45.2 ± 1.1 s` |
| Dispersion Number |  `reactor_dispersion()` | `D/uL = 0.032` |
| Dean Number | `Dean_number()` | `De = 12.4` |

## Function Overview
| Function | Purpose |
|----------|---------|
| `remove_nan()` | Interpolates missing data |
| `luma_in()` | Inverts luma values for dye tracking |
| `E_T_curve()` | Generates RTD plots and metrics |
| `reactor_dispersion()` | Computes `D`, `Pe`, and dispersion |
| `Dean_number()` | Calculates `De` and `Pe` |

## Example Workflow
```python
# 1. Load and preprocess data
time, luma = filter_arrays_by_time_start(raw_time, raw_luma, 150, 0)
luma_clean = remove_nan(luma, time)

# 2. Analyze RTD
E_t, tau, variance = E_T_curve(luma_clean, time)

# 3. Characterize flow
D, dispersion_number, Pe = reactor_dispersion(variance, tau, L=14, IR=0.003, RPM=14)
print(f"Axial dispersion coefficient: {D:.3f} m²/s")
```

## Troubleshooting
- Negative `E(T)` values: Ensure baseling subtraction (`luma_clean = luma - luma[0]`)
- Noisy RTD curves: Increase Savitzky-Golay window size (e.g., `luma_filter(..., W_L=151)`)
- `NaN` in outputs: Check time/luma arrays for mismatched lengths.
